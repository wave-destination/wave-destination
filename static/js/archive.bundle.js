!function(){"use strict";var e=function(){function e(){this.classNameActive="is-hidden"}return e.prototype.toggleDOM=function(e){e.classList.toggle(this.classNameActive)},e.prototype.activeDOM=function(e){e.classList.remove(this.classNameActive)},e.prototype.inactiveDOM=function(e){e.classList.add(this.classNameActive)},e.prototype.stopScroll=function(){document.body.style.overflow="hidden"},e.prototype.releseScroll=function(){document.body.style.overflow="visible"},e}(),t=[{artist:"Arisa Ito",title:"ランランランドリーカンカンカンパニーファンファンファーマシー",statement:"<span class='quote'>機構<br>「私は知らぬ<br>私は未だ人間の奴隷だ<br>私は冷たい　しかし<br>私はひとりの天才を待っている<br>むしろ<br>すべての人間を信じている」<br>── 谷川俊太郎「一九五一年一月」『二十億光年の孤独』1952</span><br><br>会社<br>「『フルスペクトラム・ウォリアー』というXboxのゲームがある<br>これはもともと米軍が開発した軍事シミュレーターを<br>コンシューマーゲームにアレンジしたもので<br>そのデジタルアセットは最終的に<br>実際の戦争でPTSDを患った退役軍人の<br>治療用VRソフトにも転用された<br>訓練、娯楽、治療<br>思うに産業というものはこのいずれかに分けることができ<br>その間で資本や技術を転用しながら回っている」<br><br>洗濯機<br>「私は戦争とテクノロジーの間の循環の渦を回す<br>産業の従事者は気づかぬ内に<br>フルスペクトラム・ウォリアーのテクスチャを洗って干しているかも知れない<br>テクノロジーは常に<br>『薬』にも『毒』にもなるパルマコンのような両義性を抱えている<br>ひとりの人間がまた轟々と回る私を眺めながら<br>それを乗り越える方法がどこかにあるとぼんやり思っている」<br><br>薬剤師<br>「この店に特効薬はない<br>店にも、社会にも、芸術にも、どこにもない<br>しかしやらなければならなかったのは<br>調剤を試みる手を止めないということ」"},{artist:"ぅょぅょバード",title:"kiss to boost the economy 0.5",statement:"°˖♡コンセプトカフェ開催♡˖°<br><br>4/28  pinkデー<br>4/30  Gothicデー<br>5/1　 kittyデー<br>5/2　終焉の天使デー<br><br>お話し：<br>5分500円（手作りリング1つプレゼント）<br><br>チェキ：<br>1枚1000円 (2枚以上の方1枚につき5分お話しタイム付き）"},{artist:"小倉久典",title:"象る",statement:"風景の定義はここに見えているのと見ているものの両者の表層が自然ではないことだろうか。<br>風景は自己のまなざしにより形作られ続ける。その風は近代化と共に無名な風景にまで及び無自覚に地平線を作った。<br>私が風景を象徴としようと考えるのはこれに抗うためではない。刹那的にしか生きることができない風景をむしろ獲得する。彫刻するわけである。風景のエモーショナルでノスタルジックな「いまここ」を「いーーーまーーーこーーーこーーー」にするためには箱に入れる必要があるだろう。そうすればまなざし同士は運動体となる。そして箱が開くnを信じ接続を試みる。"},{artist:"神山朝人",title:["ハムスター短歌","降りられないバス停"],statement:["ハムスターは何故、夜な夜な走り回るのか。「本能」と辞書で引くと、『動物個体が、学習・条件反射や経験によらず、生得的にもつ行動様式。』とある。ハムスターが走るのは学習したのではなく、必要にかられてでもなく、そういう作りになっている生き物ということなのだろう。どこにも行けない回し車を回し続けるハムスター。誰かが読んだ短歌の断片たちは回し車の回転によってランダムに出力される。夜な夜な走るハムスターと、夜な夜な言葉を探す私はどこが似ているような気がする。この装置は僕の、もしくはあなたのセルフポートレートなのかもしれない。\n\n※短歌の素材になる語句は朝比奈竜生さん作の短歌25首からランダムに選んでいます。","街角に勝手にバス停を作ってみたい。という思いに駆られた。場所に名前を付けるという行為。勝手に設置されたバス停の前で、路線バスが停まることはない。バスに乗っている乗客は降りられないが、そのバス停を見つけた人はどこかに行けるだろうか。降りることができないバス停の名前は、誰かの記憶の名前でもあり、ゆくさきを示しているようでもある。"]},{artist:"そだあかり",title:["放浪する私とヤシの流動的な時間","IN parasite"],statement:["流動的に生きている私とヤシで\n壁に鋲を打ちたいと思う。\n\nこの場所もこの時間も流動的であってほしい。\n\n明日は、\nヤシが少し傾いているかもしれないし、\n私がすごく疲れているかもしれないけれど、\n４日間私はヤシに抱きついて、壁に鋲を打つ。\n\nヤシの支えを借りて、私は足を上に上げられる。\n\nかつて、ヤシの葉が、掛けられた重圧に耐えて跳ね返す強い葉であると信じられていたように、私は流動的なこの一瞬を、ヤシに頼ってみようと思う。\n\n放浪した私とヤシの残痕の土が、地面に溢れ落ちているかもしれない。","文字を入力し、Enterキーを押してください。\n文字を入力したら、Backspaceキーを長押しして全消しすると、\n飛べます。\n\nまた、そだあかり(sodakari)と入力すると、飛べます。\n飛んだ先のページ右上の×マークをタップすると、はじめのページに戻ります。"]},{artist:"中島晴矢",title:'根拠地を刻む #2 "high school emblem"',statement:"撮影：皆藤将"}],i=function(){function e(){this.isIpad=!1,this.ua=navigator.userAgent.toLowerCase()}return e.prototype.isMobile=function(){return!!this.ua.match(/iphone|ipad|android.+mobile/)},e.prototype.isIpadAndPCView=function(){return this.isIpad=/ipad/.test(this.ua),this.ua.indexOf("macintosh")>=0&&"ontouchend"in document},e.prototype.isIos=function(){return this.ua.indexOf("iphone")>=0||this.ua.indexOf("ipad")>=0||this.ua.indexOf("ipod")>=0},e.prototype.isIos13Over=function(){return this.isIpad?!/os ([1-9]_|1[0-2]_)/.test(this.ua):!/iphone os ([1-9]_|1[0-2]_)/.test(this.ua)},e.prototype.isIos12=function(){return this.isIpad?!/os (12_)/.test(this.ua):/iphone os (12_)/.test(this.ua)},e.prototype.isIos11Under=function(){return this.isIpad?!/os ([1-9]_|1[0-1]_)/.test(this.ua):!/iphone os ([1-9]_|1[0-1]_)/.test(this.ua)},e}(),n=new i,r=function(){var e=this;this.isFirstSceneChange=!0,this.setup=function(){e.skyArray=Array.from(document.getElementsByClassName("sky")),e.nextButton=document.getElementById("archive-ascene-menu-next"),e.prevButton=document.getElementById("archive-ascene-menu-prev"),e.nextButton.addEventListener("click",(function(){e.changeScene("next")})),e.prevButton.addEventListener("click",(function(){e.changeScene("prev")})),e.sceneIndexText=document.getElementById("archive-ascene-index"),e.camera=document.getElementById("camera"),e.cameraWrapper=document.getElementById("camera-wrapper"),e.acanvas=document.getElementsByClassName("a-canvas")[0];for(var t=0;t<e.skyArray.length;t++)if(e.skyArray[t].classList.contains("is-active"))return e.currentSky=e.skyArray[t],e.currentId=t,void(n.isMobile()||e.registerDragEvent())},this.registerDragEvent=function(){e.acanvas.addEventListener("click",e.stopRotate,!1)},this.getCurrentSky=function(){e.skyArray=Array.from(document.getElementsByClassName("sky"));for(var t=0;t<e.skyArray.length;t++)if(e.skyArray[t].classList.contains("is-active"))return void(e.currentSky=e.skyArray[t])},this.stopRotate=function(){e.isStoped||((e.skyArray=Array.from(document.getElementsByClassName("sky")))[0].emit("stopEvent"),e.removeDragEvent(),e.isStoped=!0)},this.stopRotateForMobile=function(){e.isStoped||((e.skyArray=Array.from(document.getElementsByClassName("sky")))[0].emit("stopEvent"),e.isStoped=!0)},this.resetRotate=function(){e.currentSky||e.getCurrentSky(),e.currentSky.setAttribute("rotation","0, 90, 0")},this.removeDragEvent=function(){e.acanvas.removeEventListener("click",e.stopRotate,!1),e.acanvas.removeEventListener("touchstart",e.stopRotate,!1),e.acanvas.removeEventListener("touch",e.stopRotate,!1)},this.changeScene=function(t){e.currentSky.setAttribute("opacity",0),e.currentSky.classList.remove("is-active"),e.isFirstSceneChange&&(e.stopRotate(),e.resetRotate(),e.isFirstSceneChange=!1),"next"===t?e.currentId===e.skyArray.length-1?e.currentId=0:e.currentId+=1:0===e.currentId?e.currentId=e.skyArray.length-1:e.currentId-=1,e.currentSky=e.skyArray[e.currentId],e.recenterCamera(),e.changeSceneIndextext(),e.currentSky.setAttribute("opacity",1)},this.changeSceneIndextext=function(){e.sceneIndexText.innerText="".concat(e.currentId+1)},this.recenterCamera=function(){var t=e.camera.getAttribute("rotation").y;e.cameraWrapper.setAttribute("rotation",{y:-1*t})}},a=new e,o=(new r,function(){var e=this;this.isFirst=!0,this.setup=function(){e.archiveAscene=document.getElementById("archive-ascene"),e.archiveGallery=document.getElementById("archive-gallery"),e.archiveGalleryPhoto=document.getElementById("archive-gallery-photo"),e.archiveGalleryTitle=document.getElementById("archive-gallery-title"),e.archiveGalleryText=document.getElementById("archive-gallery-text"),e.archiveGalleryCredit=document.getElementById("archive-gallery-credit"),e.archiveModalLoading=document.getElementById("archive-modal-loading"),e.archiveModalClose=document.getElementById("archive-modal-close"),e.archiveMenu=Array.from(document.getElementsByClassName("archive-menu-item")),e.archiveMenu.forEach((function(t,i){t.addEventListener("click",(function(){e.switch(t,i)}))})),e.archiveLoading=document.getElementById("archive-loading"),e.archiveModal=document.getElementById("archive-modal"),e.archiveModalImg=document.getElementById("archive-modal-img"),e.archiveModalClose.addEventListener("click",(function(){a.releseScroll(),a.inactiveDOM(e.archiveModal),setTimeout((function(){e.archiveModalImg.src="",e.archiveModal.scrollTop=0}),e.transitionTime)}));var t=document.getElementById("archive-modal-img-next"),i=document.getElementById("archive-modal-img-prev");t.addEventListener("click",(function(){e.imageArrow("next")})),i.addEventListener("click",(function(){e.imageArrow("prev")}))},this.switch=function(t,i){if(i!==e.currentIndex){var n=e.currentIndex;e.isFirst&&(e.isFirst=!1),0===i?(a.inactiveDOM(e.archiveGallery),a.activeDOM(e.archiveAscene),e.resetGallery()):(0===e.currentIndex&&(a.inactiveDOM(e.archiveAscene),a.activeDOM(e.archiveGallery),a.activeDOM(e.archiveGalleryCredit)),a.activeDOM(e.archiveLoading),e.resetGallery(),setTimeout((function(){e.addGallery(i,n),e.addWorkInfo(i),a.activeDOM(e.archiveGalleryCredit)}),1.1*e.transitionTimeSlow)),e.archiveMenu[e.currentIndex].classList.remove("is-selected"),e.archiveMenu[i].classList.add("is-selected"),e.currentIndex=i}},this.resetGallery=function(){a.inactiveDOM(e.archiveGallery),setTimeout((function(){e.archiveGalleryPhoto.innerHTML="",a.inactiveDOM(e.archiveGalleryCredit)}),e.transitionTimeSlow)},this.addGallery=function(t,i){for(var n=function(n){var r,o=document.createElement("img");r=n<10?"0"+n:n;var s="../static/image/archive/".concat(e.dirArray[t].artist,"/").concat(r,".jpg");if(o.src=s,n===e.dirArray[t].number-1){var c=0;i===e.dirArray.length-1&&(c=300),t===e.dirArray.length-1&&(c=300),o.addEventListener("load",(function(){a.inactiveDOM(e.archiveLoading),setTimeout((function(){a.activeDOM(e.archiveGallery)}),100+c)}))}e.archiveGalleryPhoto.appendChild(o),o.addEventListener("click",(function(){e.currentGalleryPhotoIndex=n,e.archiveModalImg.src=s,a.activeDOM(e.archiveModal),e.archiveModalImg.onload=function(){a.inactiveDOM(e.archiveModalLoading),a.stopScroll()}}))},r=0;r<e.dirArray[t].number;r++)n(r)},this.addWorkInfo=function(i){var n=i-1;"string"==typeof t[n].title?(e.archiveGalleryTitle.innerText="《"+t[n].title+"》",e.archiveGalleryText.innerHTML=t[n].statement):(e.archiveGalleryTitle.innerText="《"+t[n].title[0]+"》",e.archiveGalleryText.innerText=t[n].statement[0]+"\n\n\n《"+t[n].title[1]+"》\n\n"+t[n].statement[1])},this.imageArrow=function(t){a.inactiveDOM(e.archiveModalImg),setTimeout((function(){var i=e.currentGalleryPhotoIndex;"next"===t?i++:i--,i>=e.dirArray[e.currentIndex].number?i=0:i<0&&(i=e.dirArray[e.currentIndex].number-1),i<10&&(i="0".concat(i)),e.archiveModalImg.src="../static/image/archive/".concat(e.dirArray[e.currentIndex].artist,"/").concat(i,".jpg"),e.archiveModalImg.onload=function(){a.activeDOM(e.archiveModalImg),e.currentGalleryPhotoIndex=Number(i)}}),e.transitionTime)},this.transitionTime=250,this.transitionTimeSlow=600,this.currentIndex=0,this.dirArray=[{artist:"all",number:""},{artist:"arisaito",number:8},{artist:"uxouxobird",number:20},{artist:"hisanoriogura",number:11},{artist:"asatokamiyama",number:9},{artist:"akarisoda",number:15},{artist:"haruyanakajima",number:3}]}),s=new e,c=new i,d=new r,l=new function(){var e=this;this.isFirst=!0,this.openText="+ READ MORE",this.closeText="− CLOSE",this.setup=function(){e.text=document.getElementById("archive-gallery-text"),e.readmore=document.getElementById("archive-gallery-readmore"),e.observer=new MutationObserver(e.observeFunc),e.observer.observe(e.text,{childList:!0}),e.readmore.addEventListener("click",e.toggle,!1)},this.toggle=function(){e.text.classList.toggle("is-closed"),e.readmore.classList.toggle("is-opened"),e.readmore.classList.contains("is-opened")?(e.readmore.innerText=e.closeText,e.text.style.height="".concat(e.textHeight,"px")):(e.readmore.innerText=e.openText,e.text.style.height="".concat(e.initTextHeight,"px"))},this.observeFunc=function(t){t.forEach((function(t){"childList"===t.type&&(e.isFirst?(e.text.classList.remove("is-closed"),e.textHeight=e.text.clientHeight,e.text.classList.add("is-closed"),e.initTextHeight=e.text.clientHeight,e.isFirst=!1):(e.text.classList.remove("is-closed"),e.text.style.height="auto",e.textHeight=e.text.clientHeight,e.text.classList.add("is-closed"),e.text.style.height="".concat(e.initTextHeight,"px")),e.readmore.classList.remove("is-opened"),e.readmore.innerText=e.openText,e.textHeight<100?e.hideReadmore():e.readmore.classList.contains("is-hidden")&&e.showReadmore())}))},this.hideReadmore=function(){e.text.classList.remove("is-closed"),e.text.classList.add("is-shorted"),e.readmore.classList.add("is-hidden")},this.showReadmore=function(){e.text.classList.add("is-closed"),e.text.classList.remove("is-shorted"),e.readmore.classList.remove("is-hidden")}},u=new o,h=new r,v=new function(){var e=this;this.isDeviceMotionAllowed=!1,this.setup=function(){c.isMobile()&&(e.overlay=document.getElementById("archive-ascene-overlay"),e.showOverlay(),e.startButton=document.getElementById("archive-ascene-overlay-start"),e.startButton.addEventListener("click",(function(){if(e.isDeviceMotionAllowed)return d.stopRotateForMobile(),void e.hideOverlay();c.isIos13Over()?e.checkPermission():(d.stopRotateForMobile(),e.hideOverlay())})))},this.showOverlay=function(){s.activeDOM(e.overlay)},this.hideOverlay=function(){s.inactiveDOM(e.overlay)},this.checkIpadAndPCView=function(){c.isIpadAndPCView()&&alert("【iOS端末をご利用の方へ】\nAR機能をお楽しみいただくには設定を変更する必要があります。\n\n設定アプリ＞Safari＞デスクトップ用Webサイトを表示＞「すべてのWebサイト」のチェックボックスをオフに")},this.checkDeviceMotionAllowed=function(){window.addEventListener("deviceorientation",e.deviceMotionEvent,!1)},this.deviceMotionEvent=function(t){e.isDeviceMotionAllowed=!0,e.removeMotionEvent()},this.removeMotionEvent=function(){window.removeEventListener("deviceorientation",e.deviceMotionEvent,!1)},this.checkPermission=function(){DeviceMotionEvent&&DeviceMotionEvent.requestPermission&&"function"==typeof DeviceMotionEvent.requestPermission&&DeviceMotionEvent.requestPermission().then((function(e){})),DeviceOrientationEvent&&DeviceOrientationEvent.requestPermission&&"function"==typeof DeviceOrientationEvent.requestPermission&&DeviceOrientationEvent.requestPermission().then((function(t){"granted"===t&&(d.stopRotateForMobile(),e.hideOverlay())}))}},m=new e,y=0;AFRAME.registerComponent("scene",{init:function(){this.el.addEventListener("loaded",(function(){p();var e=document.getElementById("archive-ascene-loading");m.inactiveDOM(e)}))}});var g=function(){var e=document.getElementById("splash");document.getElementById("splash-text").classList.add("is-hidden"),e.classList.add("is-out")},p=function(){2==++y&&g()};window.onload=function(){u.setup(),l.setup(),h.setup(),v.setup(),g()}}();